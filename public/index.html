<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Platform</title>
    <link href="./assets/css/bootstrap.css" rel="stylesheet">    
    <link href="./assets/css/jquery-ui-1.10.3.custom.css" rel="stylesheet">    
    <link href="./assets/css/platform.css" rel="stylesheet">
    <link href="./assets/css/dropzone.css" rel="stylesheet">
    <link rel="stylesheet" href="./assets/js/vendor/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="./assets/js/vendor/codemirror/theme/blackboard.css">
    <link href="./assets/js/vendor/dist/summernote.css" rel="stylesheet">
  </head>

  <body>


    <!--main region template-->

    <div id="app-container" class="container">
      <div id="header-region"></div>
      <div id="main-region" class="container">
        <p>This is the main region, but somethings wrong if you're reading this...</p>
      </div>
      <div id="footer-region"></div>
      </div>
    </div>

    <!-- header template -->

  
    <script type="text/template" id="header-template">
      <div class="container-fluid">
        <div class="navbar-header">
          <a class="navbar-brand" href="#publications">Platform</a>
        </div>
          <ul class="nav navbar-nav">
          </ul>
        </div>
    </script>

    <script type="text/template" id="header-link">
      <a class="nav-link" href="#<%- url %>"><%- name %></a>
    </script>

    <script type="text/template" id="user-name">
    <div class="container">
    <p class="text-muted"><%- userName %></p>
    </div>
    </script>

    <!--child item template for the listPubs CompositeView-->

    <script type="text/template" id="pub-list-item">
      <td><%- contributor %></td>
      <td><%- title %></td>
      <td>
      <a href="#users/" class="btn btn-secondary btn-sm js-show-pub">
      <i class="glyphicon glyphicon-eye-open"></i>
      Show
      </a>
      <button class="btn btn-secondary btn-sm js-delete-pub">
      <i class="glyphicon glyphicon-remove"></i>
      Delete
      </button>
      </td>
    </script>

    <!--wrapper template for the listPubs CompositeView-->

    <script type="text/template" id="pubs-list">
      <thead>
      <tr>
      <th>Contributor</th>
      <th>Publication</th>
      <th><button class="btn btn-secondary js-new-pub">
      <i class="glyphicon glyphicon-plus"></i>
      New Publication
      </button></th>
      </tr>
      </thead>
      <tbody>
      </tbody>
    </script>

    <!--child item template for the listUsers CompositeView-->

    <script type="text/template" id="user-list-item">
      <td><%- userName %></td>
      <td><%- email %></td>
      <td>
      <a href="#users/" class="btn btn-secondary btn-sm js-edit-user">
      <i class="glyphicon glyphicon-edit"></i>
      Edit
      </a>
      <button class="btn btn-secondary btn-sm js-delete-user">
      <i class="glyphicon glyphicon-remove"></i>
      Delete
      </button>
      </td>
    </script>

    <!--wrapper template for the listUsers CompositeView-->

    <script type="text/template" id="users-list">
      <thead>
      <tr>
      <th>Name</th>
      <th>Email</th>
      <th><button class="btn btn-secondary js-new-user">
      <i class="glyphicon glyphicon-plus"></i>
      New User
      </button></th>
      </tr>
      </thead>
      <tbody>
      </tbody>
    </script>

    <!--template for editing user details-->

    <script type="text/template" id="user-form">
      <form>
        <div class="form-group">
          <label for="user-name">Name:</label>
          <input class="form-control" id="user-name" name="userName" type="text" value="<%- userName %>"/>
        </div>
        <div class="form-group">
          <label for="user-email">Email:</label>
          <input class="form-control" id="user-email" name="email" type="text" value="<%- email %>"/>
        </div>
        <div class="form-group">
          <label for="user-password">Password:</label>
          <input class="form-control" id="user-password" name="password" type="text" value=""/>
        </div>
        <button class="btn btn-secondary js-submit">Save</button>
      </form>
    </script>   

    <!--template for new user-->

    <script type="text/template" id="new-user-form">
      <form>
        <div class="form-group">
          <label for="user-name">Name:</label>
          <input class="form-control" id="user-name" name="userName" type="text" value=""/>
        </div>
        <div class="form-group">
          <label for="user-email">Email:</label>
          <input class="form-control" id="user-email" name="email" type="text" value=""/>
        </div>
        <div class="form-group">
          <label for="user-password">Password:</label>
          <input class="form-control" id="user-password" name="password" type="text" value=""/>
        </div>
        <button class="btn btn-secondary js-submit">Save</button>
      </form>
    </script>      

    <!--template for login form-->

    <script type="text/template" id="login-form">
      <div class="alert alert-warning" style="display: none;"></div>  
      <form>
        <div class="form-group">
          <label for="user-email">Email:</label>
          <input class="form-control" id="user-email" name="email" type="text" value="Email"/>
        </div>
        <div class="form-group">
          <label for="user-password">Password:</label>
          <input class="form-control" id="user-password" name="password" type="text" value="Password"/>
        </div>
        <button class="btn btn-secondary js-login">Login</button>
      </form>
    </script>     

    <!--show single image publication template-->

    <script type="text/template" id="pub-view-image">
    <img src="http://localhost:3000/uploads/<%= activeContent %>" alt="image" width=800px><br>
    <a href="#" class="btn btn-secondary js-edit-details"><i class="glyphicon glyphicon-edit"></i>
    Edit details
    </a><br>
    <a href="#publications/<%- _id %>/edit/content" class="btn btn-secondary js-edit-content"><i class="glyphicon glyphicon-edit"></i>
    Edit content
    </a>
    </script>

    <!--show single mixed publication template-->

    <script type="text/template" id="pub-view-mixed">
    <h1><%- title %></h1>
    <p><b><%- contributor %></b></p>
    <div><%= activeContent %></div>
    <a href="#" class="btn btn-secondary js-edit-details"><i class="glyphicon glyphicon-edit"></i>
    Edit details
    </a><br>
    <a href="#publications/<%- _id %>/edit/content" class="btn btn-secondary js-edit-content"><i class="glyphicon glyphicon-edit"></i>
    Edit content
    </a>
    </script>

    <!--show single script publication template-->

    <script type="text/template" id="pub-view-script">
    <div><%= activeContent %></div>
    <a href="#" class="btn btn-secondary js-edit-details"><i class="glyphicon glyphicon-edit"></i>
    Edit details
    </a><br>
    <a href="#publications/<%- _id %>/edit/content" class="btn btn-secondary js-edit-content"><i class="glyphicon glyphicon-edit"></i>
    Edit content
    </a>
    </script>

    <!--template for nonexistent pub-->

    <script type="text/template" id="missing-pub-view">
    <div class="alert alert-error">This publication doesn't exist!</div>
    </script>

    <!--template for editing pub details-->

    <script type="text/template" id="pub-form-details">
      <form>
        <div class="form-group">
          <label for="pub-contributor">Contributor:</label>
          <input class="form-control" id="pub-contributor" name="contributor" type="text" value="<%- contributor %>"/>
        </div>
        <div class="form-group">
          <label for="pub-title">Title:</label>
          <input class="form-control" id="pub-title" name="title" type="text" value="<%- title %>"/>
        </div>
        <div class="form-group">
          <label for="pub-type" class="form-label">Type:</label>
          <select class="form-control" id="pub-type" name="type">
          <option selected hidden value="<%- type %>"><%- type %></option>
          <option value="mixed">mixed</option>
          <option value="image">image</option>
          <option value="script">script</option>
        </select>
        </div>
        <div class="form-group">
          <label for="pub-pubDate" class="form-label">Publication Date:</label>
          <input class="form-control" id="pub-pubDate" name="pubDate" type="text" value="<%- pubDate %>"/>
        </div>
        <button class="btn btn-secondary js-submit">Save</button>
      </form>
    </script>     

    <!--template for editing pub mixed-->

    <script type="text/template" id="pub-edit-mixed">
    <h1><%- title %></h1>
    <p><%- contributor %></p>
    <div id="summernote"><%= activeContent %></div>
    <button class="btn btn-secondary js-submit">Save</button>
    </script>  

    <!--template for editing pub image-->

    <script type="text/template" id="pub-edit-image">
    <h1><%- title %></h1>
    <p><%- contributor %></p>
    <form id="my-dropzone" method="post" action="/upload" class="dropzone">
      <div class="fallback">
        <input name="image" type="file" />
      </div>
    </form>
    <button class="btn btn-secondary js-submit">Save</button>
    </script>     

    <!--template for editing pub script-->

    <script type="text/template" id="pub-edit-script">
    <h1><%- title %></h1>
    <p><%- contributor %></p>
    <textarea id="myTextArea"><%- activeContent %></textarea>
    <button class="btn btn-secondary js-submit">Save</button>
    </script>

    <!--template for about page-->

    <script type="text/template" id="about-message">
    <h1>About Platform</h1>
    <p>this is our lovely about page.</p>
    <p>You are very welcome !</p>
    </script>

    <script src="./assets/js/vendor/jquery.js"></script>
    <script src="./assets/js/vendor/jquery-ui-1.10.3.js"></script>
    <script src="./assets/js/vendor/bootstrap.js"></script>
    <script src="./assets/js/vendor/dist/summernote.js"></script>
    <script src="./assets/js/vendor/dropzone.js"></script>
    <script src="./assets/js/vendor/codemirror/lib/codemirror.js"></script>
    <script src="./assets/js/vendor/codemirror/mode/javascript/javascript.js"></script>
    <script src="./assets/js/vendor/codemirror/mode/xml/xml.js"></script>
    <script src="./assets/js/vendor/codemirror/mode/css/css.js"></script>
    <script src="./assets/js/vendor/codemirror/mode/htmlmixed/htmlmixed.js"></script>
    <script src="./assets/js/vendor/json2.js"></script>
    <script src="./assets/js/vendor/underscore.js"></script>
    <script src="./assets/js/vendor/backbone.js"></script>
    <script src="./assets/js/vendor/backbone-associations-min.js"></script>
    <script src="./assets/js/vendor/backbone-relational.js"></script>
    <script src="./assets/js/vendor/backbone.picky.min.js"></script>
    <script src="./assets/js/vendor/backbone.syphon.js"></script>
    <script src="./assets/js/vendor/backbone.localstorage.js"></script>
    <script src="./assets/js/vendor/backbone.marionette.js"></script>
    <script src="./assets/js/app.js"></script>
    <script src="./assets/js/entities/globals.js"></script>
    <script src="./assets/js/entities/header.js"></script>
    <script src="./assets/js/apps/header/header_router.js"></script>
    <script src="./assets/js/entities/pub.js"></script>
    <script src="./assets/js/apps/edit/edit_router.js"></script>
    <script src="./assets/js/apps/pubs/pubs_router.js"></script>
    <script src="./assets/js/apps/pubs/list/list_view.js"></script>
    <script src="./assets/js/apps/pubs/list/list_controller.js"></script>
    <script src="./assets/js/apps/header/list/list_view.js"></script>
    <script src="./assets/js/apps/header/list/list_controller.js"></script>
    <script src="./assets/js/apps/pubs/show/show_view.js"></script>
    <script src="./assets/js/apps/pubs/show/show_controller.js"></script>
    <script src="./assets/js/apps/pubs/details/details_view.js"></script>
    <script src="./assets/js/apps/pubs/details/details_controller.js"></script>
    <script src="./assets/js/apps/edit/edit/image_view.js"></script>
    <script src="./assets/js/apps/edit/edit/edit_controller.js"></script>
    <script src="./assets/js/apps/edit/edit/mixed_view.js"></script>
    <script src="./assets/js/apps/edit/edit/script_view.js"></script>
    <script src="./assets/js/apps/pubs/new/new_view.js"></script>
    <script src="./assets/js/apps/pubs/new/new_controller.js"></script>
    <script src="./assets/js/apps/about/about_router.js"></script>
    <script src="./assets/js/apps/about/show/show_view.js"></script>
    <script src="./assets/js/apps/about/show/show_controller.js"></script>
    <script src="./assets/js/entities/user.js"></script>
    <script src="./assets/js/entities/authentification.js"></script>
    <script src="./assets/js/entities/permissions.js"></script>
    <script src="./assets/js/apps/users/user_router.js"></script>
    <script src="./assets/js/apps/users/list/list_view.js"></script>
    <script src="./assets/js/apps/users/list/list_controller.js"></script>
    <script src="./assets/js/apps/users/edit/edit_view.js"></script>
    <script src="./assets/js/apps/users/edit/edit_controller.js"></script>
    <script src="./assets/js/apps/users/login/login_view.js"></script>
    <script src="./assets/js/apps/users/login/login_controller.js"></script>
    <script src="./assets/js/apps/users/new/new_view.js"></script>
    <script src="./assets/js/apps/users/new/new_controller.js"></script>
    
    <script type="text/javascript">

      //start App//

      Platform.start();
    </script>
  </body>
</html>
