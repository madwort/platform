<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Platform</title>
    <link href="./assets/css/jquery-ui-1.10.3.custom.css" rel="stylesheet">    
    <link href="./assets/stylesheets/platform.css" rel="stylesheet">
    <link href="./assets/css/dropzone.css" rel="stylesheet">
    <link rel="stylesheet" href="./assets/js/vendor/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="./assets/js/vendor/codemirror/theme/blackboard.css">
    <link href="./assets/js/vendor/dist/summernote.css" rel="stylesheet">
    <link rel="stylesheet" href="./assets/js/vendor/simplemde/dist/simplemde.min.css"></script>

  </head>

  <body>

    <!-- region templates -->

    <div id="app-container" class="container">
      <div id="header-region"></div>
      <div id="main-region" class="container">
        <p>This is the main region, but somethings wrong if you're reading this...</p>
      </div>
      <div id="footer-region"></div>
      <div id="sidenav-region" class="sidenav"></div>
    </div>

    <!-- header template -->

    <script type="text/template" id="header-template">
    <header>
      <a href="#" class="navclose" id="navclose">&times;</a>
      <a class="mobile" href="#">&#9776;</a>
      <nav class="navbarmobile">
        <ul>
        </ul>
        <div style="clear:both;"></div>
      </nav>
    </header>
    <a href="#" class="navopen">Profile</a>
    </script>

    <script type="text/template" id="header-link">
      <a class="nav-link" href="#<%- url %>"><%- name %></a>
    </script>

    <!--footer template-->

    <script type="text/template" id="user-name">
    <div class="container">
    <p class="text-muted">Hello <%- userName %></p>
    </div>
    </script>

    <!--child item template for the listPubs CompositeView-->

    <script type="text/template" id="pub-list-item">
      <td><%- contributor %></td>
      <td><a href="#" class="js-show-pub">
      <%- title %>
      </a></td>
      <td><%- inRhizome %></td>
      <td>            
        <a href="#" class="js-delete-pub">
          Delete
        </a>
      </td>
    </script>

    <!--wrapper template for the listPubs CompositeView-->

    <script type="text/template" id="pubs-list">
      <thead>
      <tr>
      <th>Contributor</th>
      <th>Publication</th>
      <th>Rhizome</th>
      </tr>
      </thead>
      <tbody>
      </tbody>
    </script>

    <!--child item template for the listUserPubs CompositeView-->

    <script type="text/template" id="userpubs-list-item">
      <td><a href="#" class="js-show-pub">
      <%- title %>
      </a></td>
      <td>
        <ul>
          <% if (published == 'false') { %>
            <li>
              <a href="#" class="js-publish">
              Publish
              </a>
            </li> 
          <% } %>
          <li>
            <a href="#" class="js-edit-details">
            Edit Details
            </a>
          </li>
          <li>
            <a href="#" class="js-edit-content">
            Edit Content
            </a>
          </li>
          <li>
            <a href="#" class="js-delete-pub">
              Delete
            </a>
          </li>
        </ul>
      </td>
    </script>

    <!--wrapper template for the listUserPubs CompositeView-->

    <script type="text/template" id="userpubs-list">
      <thead>
      <tr>
      <th>Your Publications</th>
      <th>
      <button class="js-new-pub">
      New Publication
      </button>
      </th>
      </tr>
      </thead>
      <tbody>
      </tbody>
    </script>

    <!--child item template for the listUsers CompositeView-->

    <script type="text/template" id="user-list-item">
      <td><%- userName %></td>
      <td><%- email %></td>
      <td>
      <a href="#users/" class="js-edit-user">
      Edit
      </a>
      <a href="#" class="js-delete-user">
      Delete
      </a>
      </td>
    </script>

    <!--wrapper template for the listUsers CompositeView-->

    <script type="text/template" id="users-list">
      <thead>
      <tr>
      <th>Name</th>
      <th>Email</th>
      <th><button class="js-new-user">
      New User
      </button></th>
      </tr>
      </thead>
      <tbody>
      </tbody>
    </script>

    <!--template for editing user details-->

    <script type="text/template" id="user-form">
      <form>
          <label for="user-name">Name:</label>
          <input class="form-control" id="user-name" name="userName" type="text" value="<%- userName %>"/>
          <label for="user-email">Email:</label>
          <input class="form-control" id="user-email" name="email" type="text" value="<%- email %>"/>
          <label for="user-password">Password:</label>
          <input class="form-control" id="user-password" name="password" type="text" value=""/>
        <button class="js-submit">Save</button>
      </form>
    </script>   

    <!--template for new user-->

    <script type="text/template" id="new-user-form">
      <form>
          <label for="user-name">Name:</label>
          <input class="form-control" id="user-name" name="userName" type="text" value=""/>
          <label for="user-email">Email:</label>
          <input class="form-control" id="user-email" name="email" type="text" value=""/>
          <label for="user-password">Password:</label>
          <input class="form-control" id="user-password" name="password" type="text" value=""/>
        <button class="js-submit">Save</button>
      </form>
    </script>      

    <!--template for login form-->

    <script type="text/template" id="login-form">
      <div class="alert alert-warning" style="display: none;"></div>  
      <form>
          <label for="user-email">Email:</label>
          <input class="form-control" id="user-email" name="email" type="text" placeholder="Email"/>
          <label for="user-password">Password:</label>
          <input class="form-control" id="user-password" name="password" type="text" placeholder="Password"/>
        <button class="js-login">Login</button>
      </form>
    </script>     

    <!--child item template for the listRhizomes CompositeView-->

    <script type="text/template" id="rhizome-list-item">
      <td><%- rhizomeName %></td>
      <td>
      <a href="#" class="js-delete-rhizome">
      Delete
      </a>
      </td>
    </script>

    <!--wrapper template for the listRhizomes CompositeView-->

    <script type="text/template" id="rhizomes-list">
      <thead>
      <tr>
      <th>Name</th>
      <th><button class="js-new-rhizome">
      New Rhizome
      </button></th>
      </tr>
      </thead>
      <tbody>
      </tbody>
    </script>

    <!--template for new rhizome-->

    <script type="text/template" id="new-rhizome-form">
      <form>
          <label for="rhizome-name">Name:</label>
          <input class="form-control" id="rhizome-name" name="rhizomeName" type="text" value=""/>
        <button class="js-submit">Save</button>
      </form>
    </script>      


    <!--show single image publication template-->

    <script type="text/template" id="pub-view-image">
    <img src="http://localhost:3000/uploads/<%= activeContent %>" alt="image" width=800px><br>
    </script>

    <!--show single mixed publication template-->

    <script type="text/template" id="pub-view-mixed">
    <div><%= activeContent %></div>
    </script>

    <!--show single script publication template-->

    <script type="text/template" id="pub-view-script">
    <div><%= activeContent %></div>
    </script>

    <!--template for nonexistent pub-->

    <script type="text/template" id="missing-pub-view">
    <div class="alert alert-error">This publication doesn't exist!</div>
    </script>

    <!--template for editing pub details-->

    <script type="text/template" id="pub-form-details">
      <form>
          <label for="pub-contributor">Contributor:</label>
          <input class="form-control" id="pub-contributor" name="contributor" type="text" value="<%- contributor %>"/>
          <label for="pub-title">Title:</label>
          <input class="form-control" id="pub-title" name="title" type="text" value="<%- title %>"/>
          <label for="pub-pubDate" class="form-label">Publication Date:</label>
          <input class="form-control" id="pub-pubDate" name="pubDate" type="text" value="<%- pubDate %>"/>
          <label for="pub-type" class="form-label">Type:</label>
          <select class="form-control" id="pub-type" name="type">
            <option selected hidden value="<%- type %>"><%- type %></option>
            <option value="mixed">mixed</option>
            <option value="image">image</option>
            <option value="script">script</option>
          </select>
          <label for="pub-tags" class="form-label">Tags:</label>
          <input class="form-control" id="pub-tags" name="tags" type="text" value="<%- tags %>"/>
          <label for="pub-invitedBy" class="form-label">Invited by:</label>
          <input class="form-control" id="pub-invitedBy" name="invitedBy" type="text" value="<%- invitedBy %>"/>        
          <label for="pub-directedAt" class="form-label">Direct publication at:</label>
          <input class="form-control" id="pub-directedAt" name="directedAt" type="text" value="<%- directedAt %>"/>
          <label for="pub-inRhizome" class="form-label">In rhizome:</label>
          <select class="form-control" id="pub-inRhizome" name="inRhizome">
            <option selected hidden value="<%- inRhizome %>"><%- inRhizome %></option>
            <option value="#001">#001</option>
            <option value="#002">#002</option>
          </select>

        <button class="js-submit">Save</button>
      </form>
    </script>     

    <!--template for editing pub mixed-->

    <script type="text/template" id="pub-edit-mixed">
    <h1><%- title %></h1>
    <p><%- contributor %></p>
    <textarea id="simplemde"><%= activeContent %></textarea>
    <button class="js-submit">Save</button>
    </script>  

    <!--template for editing pub image-->

    <script type="text/template" id="pub-edit-image">
    <h1><%- title %></h1>
    <p><%- contributor %></p>
    <form id="my-dropzone" method="post" action="/upload" class="dropzone">
      <div class="fallback">
        <input name="image" type="file" />
      </div>
    </form>
    <button class="js-submit">Save</button>
    </script>     

    <!--template for editing pub script-->

    <script type="text/template" id="pub-edit-script">
    <h1><%- title %></h1>
    <p><%- contributor %></p>
    <textarea id="myTextArea"><%- activeContent %></textarea>
    <button class="js-submit">Save</button>
    </script>

    <!--template for about page-->

    <script type="text/template" id="about-message">
    <h1>About Platform</h1>
    <p>this is our lovely about page.</p>
    <p>You are very welcome !</p>
    </script>

    <script type="text/template" id="login-message">
    <div>
    <h1>Welcome!</h1>
    <p>Welcome to our platform, browse rhizome as a visitor or if you are a contributor login to edit your publications.</p>
    <button class="js-login">
      Login
    </button>
    <div>
    </script>

    <script src="./assets/js/vendor/jquery.js"></script>
    <script src="./assets/js/vendor/jquery-ui-1.10.3.js"></script>
    <script src="./assets/js/vendor/bootstrap.js"></script>
    <script src="./assets/js/vendor/dist/summernote.js"></script>
    <script src="./assets/js/vendor/dropzone.js"></script>
    <script src="./assets/js/vendor/codemirror/lib/codemirror.js"></script>
    <script src="./assets/js/vendor/codemirror/mode/javascript/javascript.js"></script>
    <script src="./assets/js/vendor/codemirror/mode/xml/xml.js"></script>
    <script src="./assets/js/vendor/codemirror/mode/css/css.js"></script>
    <script src="./assets/js/vendor/codemirror/mode/htmlmixed/htmlmixed.js"></script>
    <script src="./assets/js/vendor/json2.js"></script>
    <script src="./assets/js/vendor/simplemde/dist/simplemde.min.js"></script>
    <script src="./assets/js/vendor/showdown/dist/showdown.min.js"></script>
    <script src="./assets/js/vendor/underscore.js"></script>
    <script src="./assets/js/vendor/backbone.js"></script>
    <script src="./assets/js/vendor/backbone-associations-min.js"></script>
    <script src="./assets/js/vendor/backbone-relational.js"></script>
    <script src="./assets/js/vendor/backbone.picky.min.js"></script>
    <script src="./assets/js/vendor/backbone.syphon.js"></script>
    <script src="./assets/js/vendor/backbone.localstorage.js"></script>
    <script src="./assets/js/vendor/backbone.marionette.js"></script>
    <script src="./assets/js/app.js"></script>
    <script src="./assets/js/entities/globals.js"></script>
    <script src="./assets/js/entities/header.js"></script>
    <script src="./assets/js/apps/header/header_router.js"></script>
    <script src="./assets/js/entities/pub.js"></script>
    <script src="./assets/js/apps/edit/edit_router.js"></script>
    <script src="./assets/js/apps/pubs/pubs_router.js"></script>
    <script src="./assets/js/apps/pubs/list/list_view.js"></script>
    <script src="./assets/js/apps/pubs/list/list_controller.js"></script>
    <script src="./assets/js/apps/pubs/list/userlist_view.js"></script>
    <script src="./assets/js/apps/pubs/list/userlist_controller.js"></script>
    <script src="./assets/js/apps/header/list/list_view.js"></script>
    <script src="./assets/js/apps/header/list/list_controller.js"></script>
    <script src="./assets/js/apps/pubs/show/show_view.js"></script>
    <script src="./assets/js/apps/pubs/show/show_controller.js"></script>
    <script src="./assets/js/apps/pubs/details/details_view.js"></script>
    <script src="./assets/js/apps/pubs/details/details_controller.js"></script>
    <script src="./assets/js/apps/edit/edit/image_view.js"></script>
    <script src="./assets/js/apps/edit/edit/edit_controller.js"></script>
    <script src="./assets/js/apps/edit/edit/mixed_view.js"></script>
    <script src="./assets/js/apps/edit/edit/script_view.js"></script>
    <script src="./assets/js/apps/pubs/new/new_view.js"></script>
    <script src="./assets/js/apps/pubs/new/new_controller.js"></script>
    <script src="./assets/js/apps/about/about_router.js"></script>
    <script src="./assets/js/apps/about/show/show_view.js"></script>
    <script src="./assets/js/apps/about/show/show_controller.js"></script>
    <script src="./assets/js/entities/user.js"></script>
    <script src="./assets/js/entities/authentification.js"></script>
    <script src="./assets/js/entities/permissions.js"></script>
    <script src="./assets/js/entities/rhizome.js"></script>
    <script src="./assets/js/apps/users/user_router.js"></script>
    <script src="./assets/js/apps/users/list/list_view.js"></script>
    <script src="./assets/js/apps/users/list/list_controller.js"></script>
    <script src="./assets/js/apps/users/edit/edit_view.js"></script>
    <script src="./assets/js/apps/users/edit/edit_controller.js"></script>
    <script src="./assets/js/apps/users/login/login_view.js"></script>
    <script src="./assets/js/apps/users/login/login_controller.js"></script>
    <script src="./assets/js/apps/users/new/new_view.js"></script>
    <script src="./assets/js/apps/users/new/new_controller.js"></script>
    <script src="./assets/js/apps/sidebar/show/show_controller.js"></script>
    <script src="./assets/js/apps/sidebar/show/show_view.js"></script>
    <script src="./assets/js/apps/sidebar/sidebar_router.js"></script>
    <script src="./assets/js/apps/rhizomes/rhizome_router.js"></script>
    <script src="./assets/js/apps/rhizomes/list/list_view.js"></script>
    <script src="./assets/js/apps/rhizomes/list/list_controller.js"></script>
    <script src="./assets/js/apps/rhizomes/new/new_view.js"></script>
    <script src="./assets/js/apps/rhizomes/new/new_controller.js"></script>

    <script type="text/javascript">

      //start App//

      Platform.start();
    </script>
  </body>
</html>
